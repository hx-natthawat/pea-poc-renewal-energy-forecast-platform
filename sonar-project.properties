# SonarQube Configuration for PEA RE Forecast Platform
# Code Quality and Security Analysis

# Project identification
sonar.projectKey=pea-re-forecast-platform
sonar.projectName=PEA RE Forecast Platform
sonar.projectVersion=1.0.0

# Organization (for SonarCloud)
# sonar.organization=pea-thailand

# Project description
sonar.projectDescription=Renewable Energy Forecast Platform for Provincial Electricity Authority of Thailand

# Source encoding
sonar.sourceEncoding=UTF-8

# Paths to source directories
sonar.sources=backend/app,frontend/src,ml/src

# Paths to test directories
sonar.tests=backend/tests,frontend/src

# Test file patterns
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx,**/test_*.py,**/*_test.py

# Exclusions from analysis
sonar.exclusions=\
  **/node_modules/**,\
  **/venv/**,\
  **/.venv/**,\
  **/dist/**,\
  **/build/**,\
  **/__pycache__/**,\
  **/migrations/**,\
  **/*.min.js,\
  **/*.min.css,\
  **/coverage/**,\
  **/.next/**,\
  **/htmlcov/**

# Coverage exclusions
sonar.coverage.exclusions=\
  **/tests/**,\
  **/test_*.py,\
  **/*_test.py,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/conftest.py,\
  **/fixtures/**

# Duplicate code detection exclusions
sonar.cpd.exclusions=\
  **/tests/**,\
  **/*.test.ts,\
  **/*.test.tsx

# Python configuration
sonar.python.version=3.11
sonar.python.coverage.reportPaths=backend/coverage.xml
sonar.python.pylint.reportPaths=backend/pylint-report.txt
sonar.python.bandit.reportPaths=backend/bandit-report.json

# TypeScript/JavaScript configuration
sonar.typescript.lcov.reportPaths=frontend/coverage/lcov.info
sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info

# Quality Gate settings
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# Issue settings
sonar.issue.ignore.multicriteria=e1,e2

# Ignore TODO comments in test files
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1135
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.test.ts

# Ignore complexity in ML training scripts
sonar.issue.ignore.multicriteria.e2.ruleKey=python:S3776
sonar.issue.ignore.multicriteria.e2.resourceKey=**/ml/scripts/**

# Security hotspot review
sonar.security.hotspots.inheritedRules=true

# Links
sonar.links.homepage=https://github.com/pea-thailand/pea-re-forecast-platform
sonar.links.scm=https://github.com/pea-thailand/pea-re-forecast-platform
sonar.links.issue=https://github.com/pea-thailand/pea-re-forecast-platform/issues
sonar.links.ci=https://gitlab.pea.co.th/re-forecast/pea-re-forecast/-/pipelines

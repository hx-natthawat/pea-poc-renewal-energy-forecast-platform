# PEA RE Forecast Platform - v1.1.0 Roadmap

## Overview

This roadmap outlines enhancements for v1.1.0, building on the production-ready v1.0.0 release.

## Priority Features

### P0 - Critical Enhancements

#### 1. External Weather API Integration
**Goal**: Replace simulated weather data with real TMD (Thai Meteorological Department) data

**Tasks**:
- [ ] Integrate TMD API for real-time weather alerts
- [ ] Add weather forecast data ingestion (hourly updates)
- [ ] Implement fallback to simulation when API unavailable
- [ ] Add weather data caching with Redis
- [ ] Update uncertainty factors based on live conditions

**Endpoints**:
```
GET /api/v1/weather/tmd/current    # Real TMD data
GET /api/v1/weather/tmd/forecast   # 7-day forecast
GET /api/v1/weather/tmd/alerts     # Active weather alerts
```

**Estimated effort**: 3-5 days

---

#### 2. Model Retraining Pipeline
**Goal**: Automated model updates when drift is detected

**Tasks**:
- [ ] Implement drift detection service (data + concept drift)
- [ ] Create retraining trigger based on MAPE threshold
- [ ] Add MLflow experiment tracking
- [ ] Build model comparison dashboard
- [ ] Implement A/B testing for new models
- [ ] Add rollback capability

**Architecture**:
```
Drift Detection → Trigger → Retrain → Validate → Deploy → Monitor
                    ↓
              Alert if fails
```

**Estimated effort**: 5-7 days

---

### P1 - Important Features

#### 3. Enhanced Alerting System
**Goal**: Multi-channel notifications and escalation

**Tasks**:
- [ ] Add email notifications (SMTP)
- [ ] Add LINE Notify integration (popular in Thailand)
- [ ] Implement alert escalation rules
- [ ] Add alert acknowledgment workflow
- [ ] Create alert templates (Thai/English)
- [ ] Add scheduled report emails (daily/weekly)

**Estimated effort**: 3-4 days

---

#### 4. Multi-Region Support
**Goal**: Support multiple PEA regions with data isolation

**Tasks**:
- [ ] Add region/zone dimension to data models
- [ ] Implement tenant isolation in database
- [ ] Create region-specific dashboards
- [ ] Add region comparison views
- [ ] Implement role-based region access

**Database changes**:
```sql
ALTER TABLE solar_measurements ADD COLUMN region_id VARCHAR(50);
ALTER TABLE prosumers ADD COLUMN region_id VARCHAR(50);
CREATE INDEX idx_region ON solar_measurements(region_id, time);
```

**Estimated effort**: 5-7 days

---

#### 5. Mobile-Responsive Dashboard
**Goal**: Full functionality on mobile devices

**Tasks**:
- [ ] Responsive layout for all components
- [ ] Touch-friendly chart interactions
- [ ] Mobile navigation menu
- [ ] PWA manifest and service worker
- [ ] Offline data caching
- [ ] Push notifications

**Estimated effort**: 4-5 days

---

### P2 - Nice to Have

#### 6. Advanced Analytics
- Anomaly detection for sensor data
- Correlation analysis between weather and generation
- Peak demand prediction
- Battery optimization recommendations

#### 7. API Enhancements
- GraphQL endpoint for flexible queries
- Batch prediction API
- Webhook notifications
- API rate limiting per client

#### 8. Compliance & Audit
- Detailed audit log UI
- Compliance report generation
- Data retention policy enforcement
- GDPR-style data export

---

## Timeline

| Phase | Features | Duration |
|-------|----------|----------|
| Phase 1 | Weather API + Alerting | 2 weeks |
| Phase 2 | Model Retraining | 1 week |
| Phase 3 | Multi-Region | 1 week |
| Phase 4 | Mobile PWA | 1 week |

**Total**: ~5 weeks for full v1.1.0

---

## Technical Debt

Items to address alongside features:

- [ ] Upgrade Python packages to latest versions
- [ ] Add E2E tests with Playwright
- [ ] Improve test coverage to 80%+
- [ ] Add API versioning (v2 preparation)
- [ ] Database query optimization
- [ ] Frontend bundle size reduction

---

## Success Metrics

| Metric | v1.0.0 | v1.1.0 Target |
|--------|--------|---------------|
| Weather data source | Simulated | Real TMD |
| Alert channels | Dashboard only | Dashboard + Email + LINE |
| Regions supported | 1 (POC) | Multiple |
| Mobile support | Basic | Full PWA |
| Model update | Manual | Automated |

---

## Getting Started

To begin v1.1.0 development:

```bash
# Create feature branch
git checkout -b feature/v1.1.0-weather-api

# Start with Weather API integration
# See: docs/specs/weather-api-spec.md (to be created)
```

---

**Version**: 1.1.0-planning
**Created**: December 2024
**Status**: Draft
